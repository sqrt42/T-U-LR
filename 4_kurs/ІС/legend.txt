На зображенні вище показано модульний конвеєр сприйняття-планування-дій, який використовується для прийняття рішень. 
Ключовими компонентами цього методу є різні датчики, які отримують дані з навколишнього середовища.

Щоб зрозуміти принцип роботи безпілотних автомобілів, нам потрібно дослідити чотири основні частини:

Сприйняття
Локалізація
Прогнозування
Прийняття рішень (що включає в себе)
	Високорівневе планування шляху
	Поведінковий арбітраж
	Контролери руху





СПРИЙНЯТТЯ

Однією з найважливіших властивостей, якими повинні володіти безпілотні автомобілі, є сприйняття, яке допомагає автомобілю бачити навколишній світ, а також розпізнавати та класифікувати речі, які він бачить.
Щоб приймати правильні рішення, автомобіль повинен миттєво розпізнавати об’єкти.

Таким чином, автомобіль повинен бачити та класифікувати будь-що, що трапляється на дорозі. 
Мало того, йому також потрібно знати точну відстань між собою та об’єктами навколо нього. Сприйняття — це більше, ніж просто бачення та класифікація, адже
воно дає змогу системі оцінювати відстань і приймати рішення щодо сповільнення або гальмування.

Щоб досягти такого високого рівня сприйняття, безпілотний автомобіль повинен мати три датчики:

Камера
ЛіДАР
РАДАР

У деяких завданнях, таких як паркування, камера також забезпечує панорамний огляд для кращого прийняття рішень.

Незважаючи на те, що камери виконують усі завдання, пов’язані зі сприйняттям, вони навряд чи знадобляться в екстремальних умовах, таких як туман, сильний дощ, і особливо вночі. Під час екстремальних умов камери фіксують лише шум і розбіжності, які можуть бути небезпечними для життя.

Щоб подолати ці обмеження, нам потрібні датчики, які можуть працювати без світла, а також вимірювати відстань.

ЛіДАР
LiDAR розшифровується як Light Detection And Ranging, це метод вимірювання відстані до об’єктів, запускаючи лазерний промінь, а потім вимірюючи час, необхідний для його відбиття від чогось.

Камера може забезпечувати автомобіль лише зображеннями того, що відбувається навколо нього. У поєднанні з датчиком LiDAR він отримує глибину зображень – раптово отримує тривимірне сприйняття того, що відбувається навколо автомобіля.

Отже, LiDAR сприймає просторову інформацію. І коли ці дані подаються в глибокі нейронні мережі, автомобіль може передбачати дії об’єктів або транспортних засобів поблизу нього. Ця технологія дуже корисна в складних сценаріях водіння, наприклад, на перехресті з кількома виїздами, де автомобіль може аналізувати всі інші автомобілі та приймати відповідне, найбезпечніше рішення. Але лідар залежить від лазеру, отже під час дощу чи туману він може не спрацювати

Радіовиявлення та визначення дальності (РАДАР) є ключовим компонентом у багатьох військових і споживчих програмах. Вперше він був використаний військовими для виявлення об'єктів. Він обчислює відстань за допомогою сигналів радіохвиль. Сьогодні він використовується в багатьох транспортних засобах і став основним компонентом безпілотних автомобілів.

РАДАРИ мають високу ефективність, оскільки замість лазерів використовують радіохвилі, тому працюють у будь-яких умовах. Але для надійності всі ці три системи мають працювати разом.






ЛОКАЛІЗАЦІЯ

Алгоритми локалізації в безпілотних автомобілях обчислюють положення та орієнтацію автомобіля під час навігації – наука, відома як візуальна одометрія (VO).

Візуальна одометрія працює, зіставляючи ключові точки в послідовних кадрах відео. З кожним кадром ключові точки використовуються як вхідні дані для алгоритму відображення. Алгоритм відображення, як-от одночасна локалізація та відображення (SLAM), обчислює положення та орієнтацію кожного об’єкта поблизу відносно попереднього кадру та допомагає класифікувати дороги, пішоходів та інші об’єкти навколо.

Глибоке навчання зазвичай використовується для покращення продуктивності VO та класифікації різних об’єктів. Нейронні мережі, такі як PoseNet і VLocNet++, є одними з фреймворків, які використовують точкові дані для оцінки 3D-положення та орієнтації. Ці передбачувані 3D-положення та орієнтації можна використовувати для отримання семантики сцени, як показано на зображенні нижче.



ПРОГНОЗУВАННЯ

Навіть людям буває дуже складно вірно прогнозувати дії інших людей за кермом. 

Грубо кажучи, для безпілотного автомобіля, керованого ШІ, задача прогнозування перетворюється на перебір усіх можливих маневрів і вибір найкращого з них. 
Це полегшується вищеописаним набором датчиків

ПРИЙНЯТТЯ РІШЕНЬ

 У цьому сценарії безпілотний автомобіль має передбачити, чи поїде інший автомобіль прямо, ліворуч чи праворуч. У кожному випадку автомобіль повинен вирішити, який маневр він повинен виконати, щоб запобігти зіткненню.

Для прийняття рішення автомобіль повинен мати достатньо інформації, щоб він міг вибрати необхідний набір дій. Ми дізналися, що датчики допомагають автомобілю збирати інформацію, а алгоритми глибокого навчання можна використовувати для локалізації та прогнозування.


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Підсумовуючи, локалізація дозволяє автомобілю знати своє початкове положення, а передбачення створює n кількість можливих дій або рухів залежно від середовища. Залишається питання: який варіант найкращий із багатьох прогнозованих дій?
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


Коли справа доходить до прийняття рішень, ми використовуємо глибоке навчання з підкріпленням (DRL). Якщо говорити точніше, то в основі DRL лежить алгоритм прийняття рішень, який називається Ма́рковські проце́си вирі́шування (MDP)

Зазвичай Ма́рковські проце́си вирі́шування використовуються для прогнозування майбутньої поведінки учасників дорожнього руху. Слід мати на увазі, що сценарій може стати дуже складним, якщо кількість об'єктів, особливо рухомих, збільшується. Це в кінцевому підсумку збільшує кількість можливих ходів для самого безпілотного автомобіля.

Щоб вирішити проблему пошуку найкращого для себе ходу, модель глибокого навчання оптимізовано за допомогою байєсівської оптимізації. Існують також ситуації, коли для прийняття рішень використовується структура, що складається як з прихованої марковської моделі, так і з Баєсової оптимізації.

Загалом, прийняття рішень у безпілотних автомобілях є ієрархічним процесом. Цей процес складається з чотирьох компонентів:

Планування шляху або маршруту: По суті, планування маршруту – це перше з чотирьох рішень, які повинен прийняти автомобіль. Увійшовши в середовище, автомобіль повинен спланувати найкращий можливий маршрут від свого поточного положення до потрібного пункту призначення. Ідея полягає в тому, щоб знайти оптимальне рішення серед усіх інших рішень.
Арбітраж поведінки: після того, як маршрут сплановано, автомобіль повинен самостійно пройти маршрут. Автомобіль знає про статичні елементи, такі як дороги, перехрестя, середня завантаженість доріг тощо, але він не може точно знати, що інші учасники дорожнього руху збираються робити під час подорожі. Ця невизначеність у поведінці інших учасників дорожнього руху вирішується за допомогою ймовірнісних алгоритмів планування, таких як Ма́рковські проце́си вирі́шування.
Планування руху: коли рівень поведінки вирішує, як рухатися певним маршрутом, система планування руху керує рухом автомобіля. Рух автомобіля повинен бути посильним і комфортним для пасажира. Планування руху включає швидкість транспортного засобу, зміну смуги руху тощо, і все це має відповідати навколишньому середовищу, в якому перебуває автомобіль.
Керування транспортним засобом: застосування всього вищеописаного на практиці.